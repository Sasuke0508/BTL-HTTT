<!DOCTYPE html>
<html
        lang="en"
        xmlns=http://www.w3.org/1999/xhtml
        xmlns:th="http://www.thymeleaf.org"
>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Hệ thống chẩn đoán y học thể thao
    </title>
    <link rel="shortcut icon" href="./assets/images/logo.jpg" type="image/jpg">
    <!-- GOOGLE FONT -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
            rel="stylesheet">
    <!-- BOXICONS -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <!-- APP CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- FONT AWESOME  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
          integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" th:href="@{assets/css/grid.css}">
    <link rel="stylesheet" th:href="@{assets/css/app.css}">
    <link rel="stylesheet" th:href="@{assets/css/style.css}">
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <div class="sidebar-logo">
        <img th:src="@{/assets/images/logo2.png}" alt="Comapny logo">
        <div class="sidebar-close" id="sidebar-close">
            <i class='bx bx-left-arrow-alt'></i>
        </div>
    </div>
    <div class="sidebar-user">
        <div class="sidebar-user-info">
            <img th:src="@{/assets/images/admin-settings-male.png}" alt="User picture" class="profile-image">
            <div class="sidebar-user-name">
                Doctor
            </div>
        </div>
        <button class="btn btn-outline">
            <i class='bx bx-log-out bx-flip-horizontal'></i>
        </button>
    </div>
    <!-- SIDEBAR MENU -->
    <ul class="sidebar-menu">
        <li>
            <a href="index.html" class="">
                <i class='bx bx-home'></i>
                <span>Data</span>
            </a>
        </li>
        <li>
            <a href="diagnose.html" class="active">
                <i class='bx bx-shopping-bag'></i>
                <span>Chẩn đoán</span>
            </a>
        </li>
        <li>
            <a href="add-case.html">
                <i class='bx bx-chart'></i>
                <span>Add case</span>
            </a>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-user-circle'></i>
                <span>account</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a href="#">
                        edit profile
                    </a>
                </li>
                <li>
                    <a href="#">
                        account settings
                    </a>
                </li>
                <li>
                    <a href="#">
                        billing
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-chat'></i>
                <span>chat</span>
            </a>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-calendar'></i>
                <span>calendar</span>
            </a>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-cog'></i>
                <span>settings</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a href="#" class="darkmode-toggle" id="darkmode-toggle">
                        darkmode
                        <span class="darkmode-switch"></span>
                    </a>
                </li>
            </ul>
        </li>
    </ul>
    <!-- END SIDEBAR MENU -->
</div>
<!-- END SIDEBAR -->

<!-- MAIN CONTENT -->
<div class="main">
    <div class="main-header">
        <div class="mobile-toggle" id="mobile-toggle">
            <i class='bx bx-menu-alt-right'></i>
        </div>
        <div class="main-title">
            Chẩn đoán
        </div>
    </div>
    <div class="main-content">
        <div class="container">
            <h4 class="fw-bold text-center text-danger">Kết quả chẩn đoán</h4>
            <h5>Hồ sơ bệnh án</h5>
            <h6>Loại chấn thương: <span th:each="disease: ${typeOfDisease}">
                <span th:text="${disease + ', '}"></span>
            </span>
            </h6>
            <h6>Bệnh sử</h6>
            <div th:if="${listMedicalHistory!=null}">
                <ul th:each="medicalHistory: ${listMedicalHistory}">
                    <li th:text="${medicalHistory.name}"></li>
                </ul>
            </div>
            <h6>Nguyên nhân</h6>
            <div th:if="${listReason!=null}">
                <ul th:each="reason: ${listReason}">
                    <li th:text="${reason.name}"></li>
                </ul>
            </div>
            <h6>Triệu chứng</h6>
            <div th:if="${listDDS!=null}">
                <ul th:each="dDS: ${listDDS}">
                    <li th:text="${dDS.name}"></li>
                </ul>
            </div>

            <div th:if="${error!=null}">
                <h5>-> Kết quả chẩn đoán: Không thể xác định bệnh
                </h5>
            </div>
            <!-- ELSE -->
            <div th:unless="${error!=null}">
                <h5>-> Kết quả chẩn đoán:
                </h5>
                <div th:if="${listResult.size()==1}">
                    <p>Bệnh nhân có thể mắc bệnh <span th:text="${listResult.get(0).name}"></span>- Độ chính xác <span th:text="${compare}"></span> %</p>
                    <i th:text="${listResult.get(0).description}"></i>
                    <p>Lời khuyên: <span th:text="${listResult.get(0).solutionList.get(0).content}"></span></p>
                    <p>Tham khảo: <span th:text="${listResult.get(0).solutionList.get(0).reference}"></span></p>
                </div>
                <div th:unless="${listResult.size()==1}">
                    <ol th:each="disease : ${listResult}">Bệnh nhân có thể mắc 1 trong các bệnh sau:
                        <li th:text="${disease.name} - Độ chính xác ${compare}'%'"></li>
                        <i th:text="${disease.description}"></i>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END MAIN CONTENT -->

<div class="overlay"></div>

<!-- SCRIPT -->
<!-- APEX CHART -->
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<!-- APP JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
<script th:src="@{/assets/js/app.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>

</body>

</html>